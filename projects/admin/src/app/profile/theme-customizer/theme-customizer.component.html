<div fxLayout="row wrap">
  <div fxFlex="100" >
    <mat-card class="p-0">
      <mat-card-title class="m-0 light-gray">
        <div class="card-title-text" fxLayout="row wrap" fxLayoutAlign="center center">
          <button mat-flat-button
                  [color]="viewMode === 'options' ? 'primary':''"
                  (click)="viewMode = 'options'"
          >Options
          </button>
          <span fxFlex="15px"></span>
          <button mat-flat-button
                  [color]="viewMode === 'json' ? 'primary':''"
                  (click)="viewMode = 'json'"
          >Json
          </button>
          <span fxFlex></span>
        </div>
      </mat-card-title>
      <mat-card-content *ngIf="viewMode === 'json'" style="min-height: 100vh">
        <pre class="text-muted">{{layoutConf | json}}</pre>
      </mat-card-content>

      <mat-card-content [perfectScrollbar] *ngIf="viewMode === 'options'">
        <p><small>Customize the template then copy configuration json.</small></p>

        <div class="pb-1 mb-1 border-bottom">
          <h6 class="title text-muted">Header Colors</h6>

          <div class="colors">
            <div
              class="color {{c.class}}"
              *ngFor="let c of customizer.topbarColors$ | async"
              (click)="customizer.changeTopbarColor(c)">
              <mat-icon class="active-icon" *ngIf="c.active">check</mat-icon>
            </div>
          </div>
        </div>

        <div class="pb-1 mb-1 border-bottom">
          <h6 class="title text-muted">Sidebar colors</h6>
          <div class="colors">
            <div
              class="color {{c.class}}"
              *ngFor="let c of customizer.sidebarColors$ | async"
              (click)="customizer.changeSidebarColor(c)">
              <mat-icon class="active-icon" *ngIf="c.active">check</mat-icon>
            </div>
          </div>
        </div>

        <div class="pb-1 mb-1 border-bottom">
          <h6 class="title text-muted">Material Themes</h6>
          <div class="colors">
            <div class="color" *ngFor="let theme of egretThemes"
                 (click)="changeTheme(theme)" [style.background]="theme.baseColor">
              <mat-icon class="active-icon" *ngIf="theme.isActive">check</mat-icon>
            </div>
          </div>
        </div>

        <div class="pb-1 mb-1 border-bottom">
          <h6 class="title text-muted">Footer Colors</h6>

          <div class="colors">
            <div
              class="color {{c.class}}"
              *ngFor="let c of customizer.footerColors$ | async"
              (click)="customizer.changeFooterColor(c)">
              <mat-icon class="active-icon" *ngIf="c.active">check</mat-icon>
            </div>
          </div>
        </div>

      </mat-card-content>
    </mat-card>
  </div>
</div>
